

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>distancematrix.calculator &mdash; Series Distance Matrix  documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/graphviz.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> Series Distance Matrix
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install.html">Installing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">API Reference</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Series Distance Matrix</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li><code class="xref py py-mod docutils literal notranslate"><span class="pre">distancematrix.calculator</span></code></li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/autoapi/distancematrix/calculator/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="module-distancematrix.calculator">
<span id="distancematrix-calculator"></span><h1><a class="reference internal" href="#module-distancematrix.calculator" title="distancematrix.calculator"><code class="xref py py-mod docutils literal notranslate"><span class="pre">distancematrix.calculator</span></code></a><a class="headerlink" href="#module-distancematrix.calculator" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Permalink to this headline">¶</a></h2>
<div class="section" id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#distancematrix.calculator.AbstractCalculator" title="distancematrix.calculator.AbstractCalculator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">AbstractCalculator</span></code></a></p></td>
<td><p>Base class for calculators. A calculator is repsonsible for managing</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#distancematrix.calculator.AnytimeCalculator" title="distancematrix.calculator.AnytimeCalculator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">AnytimeCalculator</span></code></a></p></td>
<td><p>Calculator that allows approximate calculations in a fraction of the time, but does not support</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#distancematrix.calculator.StreamingCalculator" title="distancematrix.calculator.StreamingCalculator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">StreamingCalculator</span></code></a></p></td>
<td><p>Calculator that allows streaming data, but does not support anytime calculations.</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt class="sig sig-object py" id="distancematrix.calculator.AbstractCalculator">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">distancematrix.calculator.</span></span><span class="sig-name descname"><span class="pre">AbstractCalculator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self_join</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_series_subseq</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_query_subseq</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_dim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trivial_match_buffer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#distancematrix.calculator.AbstractCalculator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Base class for calculators. A calculator is repsonsible for managing
consumers and generators for a distance matrix calculation. It provides
a single point of interaction for the user.</p>
<p>In order to do useful work, generators and consumers need to be added.
Generators will use the input query and series to form a distance matrix.
Consumers process these values in a way that is useful.</p>
<dl class="py method">
<dt class="sig sig-object py" id="distancematrix.calculator.AbstractCalculator.add_consumer">
<span class="sig-name descname"><span class="pre">add_consumer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generator_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consumer</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#distancematrix.calculator.AbstractCalculator.add_consumer" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a consumer that uses the distances calculated by the provided generators.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>generator_ids</strong> – list containing ids of the generators</p></li>
<li><p><strong>consumer</strong> – the consumer to add</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the bound consumer</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="distancematrix.calculator.AbstractCalculator.add_generator">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">add_generator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_dim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generator</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#distancematrix.calculator.AbstractCalculator.add_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a generator that will use the data from the specified channel (from series/query).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_dim</strong> – index of the data channel</p></li>
<li><p><strong>generator</strong> – the generator to add</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the bound generator</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="distancematrix.calculator.AbstractCalculator.calculate_columns">
<span class="sig-name descname"><span class="pre">calculate_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upto</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#distancematrix.calculator.AbstractCalculator.calculate_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates columns of the distance matrix. The calculator keeps track of the rightmost column that was
already calculated and will use it as starting position unless the start position is provided.</p>
<p>Note that the generators are optimised for calculating consecutive columns from left to right.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>start</strong> – int for absolute position, float for relative position. The first column to calculate.</p>
</dd>
</dl>
<p>If None, continues from the rightmost column that was calculated so far.
:param upto: int for absolute position, float for relative position. The last column (exclusive) to calculate.
:param print_progress: print progress to console?
:return: None</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="distancematrix.calculator.AbstractCalculator.num_dist_matrix_values">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">num_dist_matrix_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#distancematrix.calculator.AbstractCalculator.num_dist_matrix_values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="distancematrix.calculator.AbstractCalculator.generators">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">generators</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#distancematrix.calculator.AbstractCalculator.generators" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="distancematrix.calculator.AbstractCalculator.consumers">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">consumers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#distancematrix.calculator.AbstractCalculator.consumers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="distancematrix.calculator.AnytimeCalculator">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">distancematrix.calculator.</span></span><span class="sig-name descname"><span class="pre">AnytimeCalculator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trivial_match_buffer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#distancematrix.calculator.AnytimeCalculator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#distancematrix.calculator.AbstractCalculator" title="distancematrix.calculator.AbstractCalculator"><code class="xref py py-class docutils literal notranslate"><span class="pre">distancematrix.calculator.AbstractCalculator</span></code></a></p>
<p>Calculator that allows approximate calculations in a fraction of the time, but does not support
data streaming.</p>
<p>A calculator is repsonsible for managing
consumers and generators for a distance matrix calculation. It provides
a single point of interaction for the user.</p>
<dl class="py method">
<dt class="sig sig-object py" id="distancematrix.calculator.AnytimeCalculator.add_generator">
<span class="sig-name descname"><span class="pre">add_generator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_dim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generator</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#distancematrix.calculator.AnytimeCalculator.add_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a generator that will use the data from the specified channel (from series/query).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_dim</strong> – index of the data channel</p></li>
<li><p><strong>generator</strong> – the generator to add</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the bound generator</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="distancematrix.calculator.AnytimeCalculator.calculate_diagonals">
<span class="sig-name descname"><span class="pre">calculate_diagonals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">partial</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#distancematrix.calculator.AnytimeCalculator.calculate_diagonals" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates diagonals of the distance matrix. The advantage of calculating diagonals is that values are spread
over the entire distance matrix, which can provide a quick approximation for any consumer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>partial</strong> – int for a number of values, float for relative number of values. The number of distance</p>
</dd>
</dl>
<p>matrix values that should be calculated (including the counts of previous diagonals calulated).
:param print_progress: print progress to the console
:return: None</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="distancematrix.calculator.StreamingCalculator">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">distancematrix.calculator.</span></span><span class="sig-name descname"><span class="pre">StreamingCalculator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_window</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query_window</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_dim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trivial_match_buffer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#distancematrix.calculator.StreamingCalculator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#distancematrix.calculator.AbstractCalculator" title="distancematrix.calculator.AbstractCalculator"><code class="xref py py-class docutils literal notranslate"><span class="pre">distancematrix.calculator.AbstractCalculator</span></code></a></p>
<p>Calculator that allows streaming data, but does not support anytime calculations.</p>
<p>A calculator is repsonsible for managing
consumers and generators for a distance matrix calculation. It provides
a single point of interaction for the user.</p>
<dl class="py method">
<dt class="sig sig-object py" id="distancematrix.calculator.StreamingCalculator.add_generator">
<span class="sig-name descname"><span class="pre">add_generator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_dim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generator</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#distancematrix.calculator.StreamingCalculator.add_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a generator that will use the data from the specified channel (from series/query).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_dim</strong> – index of the data channel</p></li>
<li><p><strong>generator</strong> – the generator to add</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the bound generator</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="distancematrix.calculator.StreamingCalculator.append_series">
<span class="sig-name descname"><span class="pre">append_series</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#distancematrix.calculator.StreamingCalculator.append_series" title="Permalink to this definition">¶</a></dt>
<dd><p>Add more data points to series.</p>
<p>As a side effect, the last calculated column index is shifted along with the data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>values</strong> – 1D array for one data point on each channel, or 2D array of shape (num_dim, num_points)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="distancematrix.calculator.StreamingCalculator.append_query">
<span class="sig-name descname"><span class="pre">append_query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#distancematrix.calculator.StreamingCalculator.append_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Add more data points to query. Cannot be used if performing a self join.</p>
<p>Note that appending query data does not adjust the last column calculated index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>values</strong> – 1D array for one data point on each channel, or 2D array of shape (num_dim, num_points)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Dieter De Paepe.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>